{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/algo/repos/survey/components/header/mobileHeader.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, useTranslation, Router } from '../../i18n';\nimport style from './header.module.scss';\nimport { BrandLogo, CloseIcon } from '../svg';\nimport { LocalMallOutlined, SearchOutlined } from '@material-ui/icons';\nimport ShoppingCartOutlinedIcon from '@material-ui/icons/ShoppingCartOutlined';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport { motion, useAnimation, AnimatePresence } from 'framer-motion';\nimport MuiAccordion from '@material-ui/core/Accordion';\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary';\nimport MuiAccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport { ExpandMoreRounded } from '@material-ui/icons';\nimport { withStyles } from '@material-ui/core/styles';\nimport { ClickAwayListener } from '@material-ui/core';\nimport LanguageDropdown from './LanguageDropdown';\nimport CartDropdown from './CartDropdown';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { logout } from '../../redux/actions/authActions/authActions';\nconst Accordion = withStyles({\n  root: {\n    boxShadow: 'none',\n    '&:not(:last-child)': {\n      borderBottom: 0\n    },\n    '&:before': {\n      display: 'none'\n    },\n    '&$expanded': {\n      margin: '0',\n      width: '100%'\n    },\n    '&.Mui-expanded': {\n      margin: '0'\n    },\n    background: '#2a2a2a',\n    borderBottom: '1px solid #434343 !important'\n  }\n})(MuiAccordion);\nconst AccordionSummary = withStyles({\n  root: {\n    backgroundColor: 'transparent',\n    marginBottom: -1,\n    padding: '0',\n    '&$expanded': {\n      width: '100%',\n      minHeight: 44\n    },\n    '& .MuiTypography-root': {\n      display: 'flex',\n      color: '#fff',\n      fontSize: '16px',\n      alignItems: 'center'\n    },\n    '& .MuiIconButton-root': {\n      color: '#fff'\n    }\n  },\n  content: {\n    '&$expanded': {\n      margin: '0'\n    }\n  },\n  expanded: {}\n})(MuiAccordionSummary);\nconst AccordionDetails = withStyles(theme => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: '5px 0',\n    '& .MuiTypography-root': {\n      padding: '0',\n      display: 'flex',\n      color: '#fff',\n      alignItems: 'center'\n    },\n    '& .MuiTypography-root a': {\n      color: '#fff',\n      padding: '5px 10px',\n      width: '100%'\n    }\n  }\n}))(MuiAccordionDetails);\n\nfunction MobileHeader({\n  data\n}) {\n  const {\n    t\n  } = useTranslation();\n  const {\n    0: term,\n    1: setTerm\n  } = useState('');\n  const {\n    0: expanded,\n    1: setExpanded\n  } = useState('panel');\n\n  const handleChange = panel => (event, newExpanded) => {\n    setExpanded(newExpanded ? panel : false);\n  };\n\n  const user = useSelector(state => state.auth.user);\n  const animation = useAnimation();\n  const {\n    0: isOpen,\n    1: setIsOpen\n  } = useState(false);\n\n  const submitHandler = e => {\n    e.preventDefault();\n\n    if (term) {\n      setIsOpen(false);\n      Router.push(`/shop?term=${encodeURI(term)}`);\n    }\n  };\n\n  const dispatch = useDispatch();\n\n  const signOut = e => {\n    e.preventDefault();\n    dispatch(logout());\n  };\n\n  useEffect(() => {\n    if (isOpen) {\n      animation.start('open');\n      document.body.style.overflowY = 'hidden';\n    } else {\n      animation.start('stable');\n      document.body.style.overflowY = 'scroll';\n    }\n\n    return () => {\n      document.body.style.overflowY = 'scroll';\n    };\n  }, [isOpen]);\n  console.log(data);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: style.wrapper_mobile,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.hamburger_cont,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.inner,\n          onClick: () => setIsOpen(!isOpen),\n          children: [/*#__PURE__*/_jsxDEV(motion.div, {\n            className: style.line,\n            variants: {\n              open: {\n                opacity: 1,\n                rotate: 45,\n                y: 7\n              },\n              stable: {\n                opacity: 1,\n                rotate: 0,\n                y: 0\n              }\n            },\n            transition: {\n              duration: 0.3,\n              type: 'twin'\n            },\n            animate: animation,\n            initial: 'stable'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n            className: style.line,\n            variants: {\n              open: {\n                opacity: 0,\n                x: -30\n              },\n              stable: {\n                opacity: 1,\n                x: 0\n              }\n            },\n            transition: {\n              duration: 0.3,\n              type: 'twin'\n            },\n            animate: animation,\n            initial: 'stable'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n            className: style.line,\n            variants: {\n              open: {\n                opacity: 1,\n                rotate: -45,\n                y: -7\n              },\n              stable: {\n                opacity: 1,\n                rotate: 0,\n                y: 0\n              }\n            },\n            transition: {\n              duration: 0.3,\n              type: 'twin'\n            },\n            animate: animation,\n            initial: 'stable'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.logo_cont,\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/\",\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            \"aria-label\": \"Logo\",\n            children: /*#__PURE__*/_jsxDEV(BrandLogo, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.cart_cont,\n        children: /*#__PURE__*/_jsxDEV(CartDropdown, {\n          mobile: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(LanguageDropdown, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AnimatePresence, {\n      children: isOpen ? /*#__PURE__*/_jsxDEV(ClickAwayListener, {\n        onClickAway: () => setIsOpen(false),\n        children: /*#__PURE__*/_jsxDEV(motion.div, {\n          className: style.content,\n          variants: {\n            open: {\n              opacity: 1,\n              y: 0\n            },\n            stable: {\n              // opacity: 0,\n              y: '-100%'\n            }\n          },\n          transition: {\n            duration: 0.5,\n            type: 'twin'\n          },\n          animate: 'open',\n          initial: 'stable',\n          exit: 'stable',\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            className: `${style.searchForm}`,\n            onSubmit: submitHandler,\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"search_input_mobile\",\n              onChange: e => setTerm(e.target.value),\n              placeholder: t('search')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"search_input_mobile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: style.icon,\n              type: \"submit\",\n              children: /*#__PURE__*/_jsxDEV(ArrowForwardIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 15\n          }, this), data.map((categ, index) => {\n            return /*#__PURE__*/_jsxDEV(Accordion, {\n              square: true,\n              expanded: expanded === `panel${index}`,\n              onChange: handleChange(`panel${index}`),\n              children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n                \"aria-controls\": \"panel2d-content\",\n                id: \"panel2d-header\",\n                expandIcon: /*#__PURE__*/_jsxDEV(ExpandMoreRounded, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 35\n                }, this),\n                children: /*#__PURE__*/_jsxDEV(Typography, {\n                  children: categ.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n                children: categ.subCategs.map((genre, ind) => /*#__PURE__*/_jsxDEV(Typography, {\n                  onClick: () => setIsOpen(false),\n                  children: /*#__PURE__*/_jsxDEV(Link, {\n                    href: `/shop?${genre.link}`,\n                    children: /*#__PURE__*/_jsxDEV(\"a\", {\n                      children: genre.title\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 29\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 27\n                  }, this)\n                }, ind, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 262,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 19\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: user ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: () => setIsOpen(false),\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: \"/orders\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    children: t('orders')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 277,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 276,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: () => setIsOpen(false),\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: \"/account\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    children: t('profile')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                onClick: () => setIsOpen(false),\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: \"/\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    onClick: signOut,\n                    children: t('signout')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"li\", {\n              onClick: () => setIsOpen(false),\n              children: /*#__PURE__*/_jsxDEV(Link, {\n                href: \"/signin\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  children: t('signin')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 11\n      }, this) : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\nexport default MobileHeader;","map":{"version":3,"sources":["/home/algo/repos/survey/components/header/mobileHeader.jsx"],"names":["React","useState","useEffect","Link","useTranslation","Router","style","BrandLogo","CloseIcon","LocalMallOutlined","SearchOutlined","ShoppingCartOutlinedIcon","ArrowForwardIcon","motion","useAnimation","AnimatePresence","MuiAccordion","MuiAccordionSummary","MuiAccordionDetails","Typography","ExpandMoreRounded","withStyles","ClickAwayListener","LanguageDropdown","CartDropdown","useDispatch","useSelector","logout","Accordion","root","boxShadow","borderBottom","display","margin","width","background","AccordionSummary","backgroundColor","marginBottom","padding","minHeight","color","fontSize","alignItems","content","expanded","AccordionDetails","theme","flexDirection","MobileHeader","data","t","term","setTerm","setExpanded","handleChange","panel","event","newExpanded","user","state","auth","animation","isOpen","setIsOpen","submitHandler","e","preventDefault","push","encodeURI","dispatch","signOut","start","document","body","overflowY","console","log","wrapper_mobile","hamburger_cont","inner","line","open","opacity","rotate","y","stable","duration","type","x","logo_cont","cart_cont","searchForm","target","value","icon","map","categ","index","title","subCategs","genre","ind","link"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Link, useTranslation, Router } from '../../i18n'\nimport style from './header.module.scss'\nimport { BrandLogo, CloseIcon } from '../svg'\nimport { LocalMallOutlined, SearchOutlined } from '@material-ui/icons'\nimport ShoppingCartOutlinedIcon from '@material-ui/icons/ShoppingCartOutlined'\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward'\nimport { motion, useAnimation, AnimatePresence } from 'framer-motion'\nimport MuiAccordion from '@material-ui/core/Accordion'\nimport MuiAccordionSummary from '@material-ui/core/AccordionSummary'\nimport MuiAccordionDetails from '@material-ui/core/AccordionDetails'\nimport Typography from '@material-ui/core/Typography'\nimport { ExpandMoreRounded } from '@material-ui/icons'\nimport { withStyles } from '@material-ui/core/styles'\nimport { ClickAwayListener } from '@material-ui/core'\nimport LanguageDropdown from './LanguageDropdown'\nimport CartDropdown from './CartDropdown'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { logout } from '../../redux/actions/authActions/authActions'\n\nconst Accordion = withStyles({\n  root: {\n    boxShadow: 'none',\n    '&:not(:last-child)': {\n      borderBottom: 0,\n    },\n    '&:before': {\n      display: 'none',\n    },\n    '&$expanded': {\n      margin: '0',\n      width: '100%',\n    },\n    '&.Mui-expanded': {\n      margin: '0',\n    },\n    background: '#2a2a2a',\n    borderBottom: '1px solid #434343 !important',\n  },\n})(MuiAccordion)\n\nconst AccordionSummary = withStyles({\n  root: {\n    backgroundColor: 'transparent',\n    marginBottom: -1,\n    padding: '0',\n    '&$expanded': {\n      width: '100%',\n      minHeight: 44,\n    },\n    '& .MuiTypography-root': {\n      display: 'flex',\n      color: '#fff',\n      fontSize: '16px',\n      alignItems: 'center',\n    },\n    '& .MuiIconButton-root': {\n      color: '#fff',\n    },\n  },\n  content: {\n    '&$expanded': {\n      margin: '0',\n    },\n  },\n  expanded: {},\n})(MuiAccordionSummary)\n\nconst AccordionDetails = withStyles((theme) => ({\n  root: {\n    display: 'flex',\n\n    flexDirection: 'column',\n    padding: '5px 0',\n    '& .MuiTypography-root': {\n      padding: '0',\n      display: 'flex',\n      color: '#fff',\n      alignItems: 'center',\n    },\n    '& .MuiTypography-root a': {\n      color: '#fff',\n      padding: '5px 10px',\n      width: '100%',\n    },\n  },\n}))(MuiAccordionDetails)\nfunction MobileHeader({ data }) {\n  const { t } = useTranslation()\n  const [term, setTerm] = useState('')\n  const [expanded, setExpanded] = useState('panel')\n  const handleChange = (panel) => (event, newExpanded) => {\n    setExpanded(newExpanded ? panel : false)\n  }\n\n  const user = useSelector((state) => state.auth.user)\n\n  const animation = useAnimation()\n  const [isOpen, setIsOpen] = useState(false)\n\n  const submitHandler = (e) => {\n    e.preventDefault()\n    if (term) {\n      setIsOpen(false)\n      Router.push(`/shop?term=${encodeURI(term)}`)\n    }\n  }\n\n  const dispatch = useDispatch()\n\n  const signOut = (e) => {\n    e.preventDefault()\n    dispatch(logout())\n  }\n\n  useEffect(() => {\n    if (isOpen) {\n      animation.start('open')\n      document.body.style.overflowY = 'hidden'\n    } else {\n      animation.start('stable')\n      document.body.style.overflowY = 'scroll'\n    }\n    return () => {\n      document.body.style.overflowY = 'scroll'\n    }\n  }, [isOpen])\n\n  console.log(data)\n  return (\n    <>\n      <div className={style.wrapper_mobile}>\n        <div className={style.hamburger_cont}>\n          <div className={style.inner} onClick={() => setIsOpen(!isOpen)}>\n            <motion.div\n              className={style.line}\n              variants={{\n                open: {\n                  opacity: 1,\n                  rotate: 45,\n                  y: 7,\n                },\n                stable: {\n                  opacity: 1,\n                  rotate: 0,\n                  y: 0,\n                },\n              }}\n              transition={{\n                duration: 0.3,\n                type: 'twin',\n              }}\n              animate={animation}\n              initial={'stable'}\n            ></motion.div>\n            <motion.div\n              className={style.line}\n              variants={{\n                open: {\n                  opacity: 0,\n                  x: -30,\n                },\n                stable: {\n                  opacity: 1,\n                  x: 0,\n                },\n              }}\n              transition={{\n                duration: 0.3,\n                type: 'twin',\n              }}\n              animate={animation}\n              initial={'stable'}\n            ></motion.div>\n            <motion.div\n              className={style.line}\n              variants={{\n                open: {\n                  opacity: 1,\n                  rotate: -45,\n                  y: -7,\n                },\n                stable: {\n                  opacity: 1,\n                  rotate: 0,\n                  y: 0,\n                },\n              }}\n              transition={{\n                duration: 0.3,\n                type: 'twin',\n              }}\n              animate={animation}\n              initial={'stable'}\n            ></motion.div>\n          </div>\n        </div>\n        <div className={style.logo_cont}>\n          <Link href='/'>\n            <a aria-label='Logo'>\n              <BrandLogo />\n            </a>\n          </Link>\n        </div>\n        <div className={style.cart_cont}>\n          <CartDropdown mobile={true} />\n        </div>\n        <LanguageDropdown />\n      </div>\n      <AnimatePresence>\n        {isOpen ? (\n          <ClickAwayListener onClickAway={() => setIsOpen(false)}>\n            <motion.div\n              className={style.content}\n              variants={{\n                open: {\n                  opacity: 1,\n                  y: 0,\n                },\n                stable: {\n                  // opacity: 0,\n                  y: '-100%',\n                },\n              }}\n              transition={{\n                duration: 0.5,\n                type: 'twin',\n              }}\n              animate={'open'}\n              initial={'stable'}\n              exit={'stable'}\n            >\n              <form className={`${style.searchForm}`} onSubmit={submitHandler}>\n                <input\n                  type='text'\n                  id='search_input_mobile'\n                  onChange={(e) => setTerm(e.target.value)}\n                  placeholder={t('search')}\n                />\n                <label htmlFor='search_input_mobile'></label>\n                <button className={style.icon} type='submit'>\n                  <ArrowForwardIcon />\n                </button>\n              </form>\n              {data.map((categ, index) => {\n                return (\n                  <Accordion\n                    square\n                    key={index}\n                    expanded={expanded === `panel${index}`}\n                    onChange={handleChange(`panel${index}`)}\n                  >\n                    <AccordionSummary\n                      aria-controls='panel2d-content'\n                      id='panel2d-header'\n                      expandIcon={<ExpandMoreRounded />}\n                    >\n                      <Typography>{categ.title}</Typography>\n                    </AccordionSummary>\n                    <AccordionDetails>\n                      {categ.subCategs.map((genre, ind) => (\n                        <Typography key={ind} onClick={() => setIsOpen(false)}>\n                          <Link href={`/shop?${genre.link}`}>\n                            <a>{genre.title}</a>\n                          </Link>\n                        </Typography>\n                      ))}\n                    </AccordionDetails>\n                  </Accordion>\n                )\n              })}\n              <ul>\n                {user ? (\n                  <>\n                    <li onClick={() => setIsOpen(false)}>\n                      <Link href='/orders'>\n                        <a>{t('orders')}</a>\n                      </Link>\n                    </li>\n                    <li onClick={() => setIsOpen(false)}>\n                      <Link href='/account'>\n                        <a>{t('profile')}</a>\n                      </Link>\n                    </li>\n                    <li onClick={() => setIsOpen(false)}>\n                      <Link href='/'>\n                        <a onClick={signOut}>{t('signout')}</a>\n                      </Link>\n                    </li>\n                  </>\n                ) : (\n                  <li onClick={() => setIsOpen(false)}>\n                    <Link href='/signin'>\n                      <a>{t('signin')}</a>\n                    </Link>\n                  </li>\n                )}\n              </ul>\n            </motion.div>\n          </ClickAwayListener>\n        ) : (\n          ''\n        )}\n      </AnimatePresence>\n    </>\n  )\n}\n\nexport default MobileHeader\n"]},"metadata":{},"sourceType":"module"}