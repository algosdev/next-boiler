{"ast":null,"code":"import _defineProperty from \"/home/algo/repos/survey/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/algo/repos/survey/components/header/navItem.jsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { ClickAwayListener, Grow, Paper, Popper, MenuItem, MenuList, makeStyles } from '@material-ui/core';\nimport style from './header.module.scss';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Link } from '../../i18n';\nvar useStyles = makeStyles(function () {\n  return {\n    paper: {\n      borderRadius: '6px',\n      borderTopLeftRadius: '0',\n      borderTopRightRadius: '0',\n      background: '#1d1d1d',\n      overflow: 'hidden',\n      '& .MuiMenuItem-root': {\n        padding: 0\n      },\n      '& .MuiMenuItem-root a': {\n        color: '#fff',\n        padding: '6px 20px',\n        minWidth: '100px',\n        justifyContent: 'flex-start !important'\n      },\n      '& .MuiMenuItem-root a:hover': {\n        textDecoration: 'none'\n      },\n      '& .MuiList-root': {\n        padding: '0'\n      },\n      '& .MuiListItem-root:hover': {\n        background: 'rgba(255,255,255,0.2)'\n      }\n    },\n    popper: {\n      zIndex: '999',\n      paddingTop: '10px',\n      top: '0 !important'\n    }\n  };\n});\n\nvar NavItem = function NavItem(_ref) {\n  _s();\n\n  var data = _ref.data,\n      subCategs = _ref.subCategs;\n  NavItem.muiName = Popper.muiName;\n  var classes = useStyles();\n\n  var _useState = useState(false),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var anchorRef = useRef(null);\n\n  var handleToggle = function handleToggle() {\n    setOpen(function (prevOpen) {\n      return !prevOpen;\n    });\n  };\n\n  var handleClose = function handleClose(event) {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  function handleListKeyDown(event) {\n    if (event.key === 'Tab') {\n      event.preventDefault();\n      setOpen(false);\n    }\n  }\n\n  var prevOpen = useRef(open);\n  useEffect(function () {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: style.listItem,\n    ref: anchorRef,\n    \"aria-controls\": open ? 'menu-list-grow' : undefined,\n    \"aria-haspopup\": \"true\" // onClick={handleToggle}\n    ,\n    onMouseEnter: function onMouseEnter() {\n      return setOpen(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setOpen(false);\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: open ? style.open : '',\n      children: [data.name, \" \", /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Popper, {\n      open: open,\n      anchorEl: anchorRef.current,\n      className: classes.popper,\n      role: undefined,\n      transition: true,\n      disablePortal: true,\n      children: function children(_ref2) {\n        var TransitionProps = _ref2.TransitionProps,\n            placement = _ref2.placement;\n        return /*#__PURE__*/_jsxDEV(Grow, _objectSpread(_objectSpread({}, TransitionProps), {}, {\n          style: {\n            transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'\n          },\n          children: /*#__PURE__*/_jsxDEV(Paper, {\n            className: classes.paper,\n            children: /*#__PURE__*/_jsxDEV(ClickAwayListener, {\n              onClickAway: handleClose,\n              children: /*#__PURE__*/_jsxDEV(MenuList, {\n                autoFocusItem: open,\n                id: \"menu-list-grow\",\n                onKeyDown: handleListKeyDown,\n                children: subCategs === null || subCategs === void 0 ? void 0 : subCategs.map(function (item, index) {\n                  return /*#__PURE__*/_jsxDEV(MenuItem, {\n                    disableRipple: true,\n                    onClick: function onClick() {\n                      return setOpen(false);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(Link, {\n                      href: \"/shop/\".concat(item.slug),\n                      children: /*#__PURE__*/_jsxDEV(\"a\", {\n                        children: item.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 122,\n                        columnNumber: 25\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 121,\n                      columnNumber: 23\n                    }, _this)\n                  }, index, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 21\n                  }, _this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, _this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, _this)\n        }), void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, _this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(NavItem, \"U8jTkOa8UNZB+VqxzZ/A29KzAyQ=\", false, function () {\n  return [useStyles];\n});\n\n_c = NavItem;\nexport default NavItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"NavItem\");","map":{"version":3,"sources":["/home/algo/repos/survey/components/header/navItem.jsx"],"names":["React","useEffect","useState","useRef","ClickAwayListener","Grow","Paper","Popper","MenuItem","MenuList","makeStyles","style","ExpandMoreIcon","Link","useStyles","paper","borderRadius","borderTopLeftRadius","borderTopRightRadius","background","overflow","padding","color","minWidth","justifyContent","textDecoration","popper","zIndex","paddingTop","top","NavItem","data","subCategs","muiName","classes","open","setOpen","anchorRef","handleToggle","prevOpen","handleClose","event","current","contains","target","handleListKeyDown","key","preventDefault","focus","listItem","undefined","name","TransitionProps","placement","transformOrigin","map","item","index","slug"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\nimport {\n  ClickAwayListener,\n  Grow,\n  Paper,\n  Popper,\n  MenuItem,\n  MenuList,\n  makeStyles,\n} from '@material-ui/core'\nimport style from './header.module.scss'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { Link } from '../../i18n'\nconst useStyles = makeStyles(() => ({\n  paper: {\n    borderRadius: '6px',\n    borderTopLeftRadius: '0',\n    borderTopRightRadius: '0',\n    background: '#1d1d1d',\n    overflow: 'hidden',\n    '& .MuiMenuItem-root': {\n      padding: 0,\n    },\n    '& .MuiMenuItem-root a': {\n      color: '#fff',\n      padding: '6px 20px',\n      minWidth: '100px',\n      justifyContent: 'flex-start !important',\n    },\n    '& .MuiMenuItem-root a:hover': {\n      textDecoration: 'none',\n    },\n    '& .MuiList-root': {\n      padding: '0',\n    },\n    '& .MuiListItem-root:hover': {\n      background: 'rgba(255,255,255,0.2)',\n    },\n  },\n  popper: {\n    zIndex: '999',\n    paddingTop: '10px',\n    top: '0 !important',\n  },\n}))\nconst NavItem = ({ data, subCategs }) => {\n  NavItem.muiName = Popper.muiName\n  const classes = useStyles()\n  const [open, setOpen] = useState(false)\n  const anchorRef = useRef(null)\n  const handleToggle = () => {\n    setOpen((prevOpen) => !prevOpen)\n  }\n\n  const handleClose = (event) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return\n    }\n\n    setOpen(false)\n  }\n\n  function handleListKeyDown(event) {\n    if (event.key === 'Tab') {\n      event.preventDefault()\n      setOpen(false)\n    }\n  }\n\n  const prevOpen = useRef(open)\n  useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus()\n    }\n\n    prevOpen.current = open\n  }, [open])\n\n  return (\n    <li\n      className={style.listItem}\n      ref={anchorRef}\n      aria-controls={open ? 'menu-list-grow' : undefined}\n      aria-haspopup='true'\n      // onClick={handleToggle}\n      onMouseEnter={() => setOpen(true)}\n      onMouseLeave={() => setOpen(false)}\n    >\n      <span className={open ? style.open : ''}>\n        {data.name} <ExpandMoreIcon />\n      </span>\n      <Popper\n        open={open}\n        anchorEl={anchorRef.current}\n        className={classes.popper}\n        role={undefined}\n        transition\n        disablePortal\n      >\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            style={{\n              transformOrigin:\n                placement === 'bottom' ? 'center top' : 'center bottom',\n            }}\n          >\n            <Paper className={classes.paper}>\n              <ClickAwayListener onClickAway={handleClose}>\n                <MenuList\n                  autoFocusItem={open}\n                  id='menu-list-grow'\n                  onKeyDown={handleListKeyDown}\n                >\n                  {subCategs?.map((item, index) => (\n                    <MenuItem\n                      key={index}\n                      disableRipple\n                      onClick={() => setOpen(false)}\n                    >\n                      <Link href={`/shop/${item.slug}`}>\n                        <a>{item.name}</a>\n                      </Link>\n                    </MenuItem>\n                  ))}\n                </MenuList>\n              </ClickAwayListener>\n            </Paper>\n          </Grow>\n        )}\n      </Popper>\n    </li>\n  )\n}\n\nexport default NavItem\n"]},"metadata":{},"sourceType":"module"}