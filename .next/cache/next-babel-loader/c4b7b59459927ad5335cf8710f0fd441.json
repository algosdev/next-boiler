{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/algo/repos/survey/components/header/navItem.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { ClickAwayListener, Grow, Paper, Popper, MenuItem, MenuList, makeStyles } from '@material-ui/core';\nimport style from './header.module.scss';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport { Link } from '../../i18n';\nconst useStyles = makeStyles(() => ({\n  paper: {\n    borderRadius: '6px',\n    borderTopLeftRadius: '0',\n    borderTopRightRadius: '0',\n    background: '#1d1d1d',\n    overflow: 'hidden',\n    '& .MuiMenuItem-root': {\n      padding: 0\n    },\n    '& .MuiMenuItem-root a': {\n      color: '#fff',\n      padding: '6px 20px',\n      minWidth: '100px',\n      justifyContent: 'flex-start !important'\n    },\n    '& .MuiMenuItem-root a:hover': {\n      textDecoration: 'none'\n    },\n    '& .MuiList-root': {\n      padding: '0'\n    },\n    '& .MuiListItem-root:hover': {\n      background: 'rgba(255,255,255,0.2)'\n    }\n  },\n  popper: {\n    zIndex: '999',\n    paddingTop: '10px',\n    top: '0 !important'\n  }\n}));\n\nconst NavItem = ({\n  data,\n  subCategs\n}) => {\n  NavItem.muiName = Popper.muiName;\n  const classes = useStyles();\n  const {\n    0: open,\n    1: setOpen\n  } = useState(false);\n  const anchorRef = useRef(null);\n\n  const handleToggle = () => {\n    setOpen(prevOpen => !prevOpen);\n  };\n\n  const handleClose = event => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return;\n    }\n\n    setOpen(false);\n  };\n\n  function handleListKeyDown(event) {\n    if (event.key === 'Tab') {\n      event.preventDefault();\n      setOpen(false);\n    }\n  }\n\n  const prevOpen = useRef(open);\n  useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus();\n    }\n\n    prevOpen.current = open;\n  }, [open]);\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: style.listItem,\n    ref: anchorRef,\n    \"aria-controls\": open ? 'menu-list-grow' : undefined,\n    \"aria-haspopup\": \"true\" // onClick={handleToggle}\n    ,\n    onMouseEnter: () => setOpen(true),\n    onMouseLeave: () => setOpen(false),\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: open ? style.open : '',\n      children: [data.name, \" \", /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Popper, {\n      open: open,\n      anchorEl: anchorRef.current,\n      className: classes.popper,\n      role: undefined,\n      transition: true,\n      disablePortal: true,\n      children: ({\n        TransitionProps,\n        placement\n      }) => /*#__PURE__*/_jsxDEV(Grow, _objectSpread(_objectSpread({}, TransitionProps), {}, {\n        style: {\n          transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom'\n        },\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          className: classes.paper,\n          children: /*#__PURE__*/_jsxDEV(ClickAwayListener, {\n            onClickAway: handleClose,\n            children: /*#__PURE__*/_jsxDEV(MenuList, {\n              autoFocusItem: open,\n              id: \"menu-list-grow\",\n              onKeyDown: handleListKeyDown,\n              children: subCategs === null || subCategs === void 0 ? void 0 : subCategs.map((item, index) => /*#__PURE__*/_jsxDEV(MenuItem, {\n                disableRipple: true,\n                onClick: () => setOpen(false),\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  href: `/shop/${item.slug}`,\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    children: item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 23\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)\n      }), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n\nexport default NavItem;","map":{"version":3,"sources":["/home/algo/repos/survey/components/header/navItem.jsx"],"names":["React","useEffect","useState","useRef","ClickAwayListener","Grow","Paper","Popper","MenuItem","MenuList","makeStyles","style","ExpandMoreIcon","Link","useStyles","paper","borderRadius","borderTopLeftRadius","borderTopRightRadius","background","overflow","padding","color","minWidth","justifyContent","textDecoration","popper","zIndex","paddingTop","top","NavItem","data","subCategs","muiName","classes","open","setOpen","anchorRef","handleToggle","prevOpen","handleClose","event","current","contains","target","handleListKeyDown","key","preventDefault","focus","listItem","undefined","name","TransitionProps","placement","transformOrigin","map","item","index","slug"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\nimport {\n  ClickAwayListener,\n  Grow,\n  Paper,\n  Popper,\n  MenuItem,\n  MenuList,\n  makeStyles,\n} from '@material-ui/core'\nimport style from './header.module.scss'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport { Link } from '../../i18n'\nconst useStyles = makeStyles(() => ({\n  paper: {\n    borderRadius: '6px',\n    borderTopLeftRadius: '0',\n    borderTopRightRadius: '0',\n    background: '#1d1d1d',\n    overflow: 'hidden',\n    '& .MuiMenuItem-root': {\n      padding: 0,\n    },\n    '& .MuiMenuItem-root a': {\n      color: '#fff',\n      padding: '6px 20px',\n      minWidth: '100px',\n      justifyContent: 'flex-start !important',\n    },\n    '& .MuiMenuItem-root a:hover': {\n      textDecoration: 'none',\n    },\n    '& .MuiList-root': {\n      padding: '0',\n    },\n    '& .MuiListItem-root:hover': {\n      background: 'rgba(255,255,255,0.2)',\n    },\n  },\n  popper: {\n    zIndex: '999',\n    paddingTop: '10px',\n    top: '0 !important',\n  },\n}))\nconst NavItem = ({ data, subCategs }) => {\n  NavItem.muiName = Popper.muiName\n  const classes = useStyles()\n  const [open, setOpen] = useState(false)\n  const anchorRef = useRef(null)\n  const handleToggle = () => {\n    setOpen((prevOpen) => !prevOpen)\n  }\n\n  const handleClose = (event) => {\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\n      return\n    }\n\n    setOpen(false)\n  }\n\n  function handleListKeyDown(event) {\n    if (event.key === 'Tab') {\n      event.preventDefault()\n      setOpen(false)\n    }\n  }\n\n  const prevOpen = useRef(open)\n  useEffect(() => {\n    if (prevOpen.current === true && open === false) {\n      anchorRef.current.focus()\n    }\n\n    prevOpen.current = open\n  }, [open])\n\n  return (\n    <li\n      className={style.listItem}\n      ref={anchorRef}\n      aria-controls={open ? 'menu-list-grow' : undefined}\n      aria-haspopup='true'\n      // onClick={handleToggle}\n      onMouseEnter={() => setOpen(true)}\n      onMouseLeave={() => setOpen(false)}\n    >\n      <span className={open ? style.open : ''}>\n        {data.name} <ExpandMoreIcon />\n      </span>\n      <Popper\n        open={open}\n        anchorEl={anchorRef.current}\n        className={classes.popper}\n        role={undefined}\n        transition\n        disablePortal\n      >\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            style={{\n              transformOrigin:\n                placement === 'bottom' ? 'center top' : 'center bottom',\n            }}\n          >\n            <Paper className={classes.paper}>\n              <ClickAwayListener onClickAway={handleClose}>\n                <MenuList\n                  autoFocusItem={open}\n                  id='menu-list-grow'\n                  onKeyDown={handleListKeyDown}\n                >\n                  {subCategs?.map((item, index) => (\n                    <MenuItem\n                      key={index}\n                      disableRipple\n                      onClick={() => setOpen(false)}\n                    >\n                      <Link href={`/shop/${item.slug}`}>\n                        <a>{item.name}</a>\n                      </Link>\n                    </MenuItem>\n                  ))}\n                </MenuList>\n              </ClickAwayListener>\n            </Paper>\n          </Grow>\n        )}\n      </Popper>\n    </li>\n  )\n}\n\nexport default NavItem\n"]},"metadata":{},"sourceType":"module"}